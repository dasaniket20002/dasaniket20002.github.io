<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3D Key Press Animation</title>
    <style>
      /* --- CUSTOMIZATION ZONE --- */
      :root {
        /* Visuals */
        --bg-color: #f4f4f4; /* Website background */
        --key-base-color: #1a1a1a; /* Dark plastic color (bottom) */
        --key-top-color: #2b2b2b; /* Slightly lighter top */
        --text-color: #e0e0e0; /* Letter color */
        --key-size: 120px; /* Overall size of the key */

        /* Configuration */
        --press-depth: 15px; /* How deep the key goes down */
        --anim-duration: 0.1s; /* Speed of the press down */
      }

      /* --- LAYOUT & RESET --- */
      body {
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-color: var(--bg-color);
        font-family: sans-serif;
        overflow: hidden;
      }

      /* --- 3D SCENE SETUP --- */
      .scene {
        width: var(--key-size);
        height: var(--key-size);
        perspective: 600px; /* Creates the 3D depth */
      }

      .key-structure {
        position: relative;
        width: 100%;
        height: 100%;
        transform-style: preserve-3d;
        /* Rotate to match the "sideways/angled" view from your image */
        transform: rotateX(20deg) rotateY(0deg);
        transition: transform var(--anim-duration) ease-out;
      }

      /* --- THE KEY COMPONENT --- */

      /* The "Skirt" (The sloped sides of the key) */
      .key-skirt {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--key-base-color);
        border-radius: 10px;
        /* This shadow creates the illusion of the key sitting on the floor */
        box-shadow: 0 15px 25px rgba(0, 0, 0, 0.2),
          inset 0 0 10px rgba(0, 0, 0, 0.5);

        /* Create the trapezoid slope look using a transform */
        transform: translateZ(0);
      }

      /* The "Cap" (The top face where the letter is) */
      .key-cap {
        position: absolute;
        top: -15px; /* Starts slightly higher than the skirt */
        left: 10%;
        width: 80%;
        height: 80%;
        background: linear-gradient(145deg, #383838, var(--key-base-color));
        border-radius: 8px;
        border: 1px solid rgba(255, 255, 255, 0.1);

        display: flex;
        justify-content: center;
        align-items: center;

        /* Connect the cap to the skirt visually */
        box-shadow: 0 4px 5px rgba(0, 0, 0, 0.4),
          /* Drop shadow on skirt */ inset 0 2px 3px rgba(255, 255, 255, 0.1); /* Highlight on top edge */

        transform: translateZ(20px); /* Lift it up in 3D space */
        transition: transform var(--anim-duration) ease-out,
          box-shadow var(--anim-duration);
      }

      /* The Letter */
      .key-letter {
        font-size: calc(var(--key-size) * 0.4);
        font-weight: bold;
        color: var(--text-color);
        user-select: none;
        text-shadow: 0 1px 1px rgba(0, 0, 0, 0.5);
      }

      /* --- ANIMATION STATES --- */

      /* When the class .pressed is added (by JS) */
      .pressed .key-cap {
        /* Move the cap down */
        transform: translateZ(5px) translateY(var(--press-depth));
        /* Reduce shadow to look like it's touching the base */
        box-shadow: 0 0px 2px rgba(0, 0, 0, 0.4),
          inset 0 2px 3px rgba(255, 255, 255, 0.1);
        background: var(--key-base-color); /* Darkens slightly */
      }

      /* Optional: Move the whole structure slightly for impact */
      .pressed {
        transform: rotateX(18deg) translateY(2px);
      }

      /* Instructions below the key */
      .instructions {
        position: absolute;
        bottom: 20%;
        color: #888;
        font-size: 14px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="scene">
      <div class="key-structure" id="keyElement">
        <div class="key-skirt"></div>
        <div class="key-cap">
          <span class="key-letter" id="keyLetter">S</span>
        </div>
      </div>
    </div>

    <div class="instructions">Press 'S' or wait for auto-press</div>

    <script>
      // --- CONFIGURATION ---
      const CONFIG = {
        targetKey: "s", // The letter on the keyboard to listen for
        autoPressInterval: 3000, // Time in ms for automatic animation (3 seconds)
        pressDuration: 150, // How long the key stays down
      };

      // --- DOM ELEMENTS ---
      const keyElement = document.getElementById("keyElement");
      const keyLetterDisplay = document.getElementById("keyLetter");

      // Apply the configured letter to the visual key
      keyLetterDisplay.textContent = CONFIG.targetKey.toUpperCase();

      // --- ANIMATION FUNCTIONS ---

      // Function to trigger the visual "down" state
      function pressKey() {
        if (!keyElement.classList.contains("pressed")) {
          keyElement.classList.add("pressed");

          // Automatically lift the key up after the duration
          setTimeout(() => {
            keyElement.classList.remove("pressed");
          }, CONFIG.pressDuration);
        }
      }

      // --- EVENT LISTENERS ---

      // 1. User Physical Keyboard Interaction
      document.addEventListener("keydown", (event) => {
        if (event.key.toLowerCase() === CONFIG.targetKey.toLowerCase()) {
          pressKey();
        }
      });

      // 2. Click Interaction (Optional, for mobile/mouse users)
      keyElement.addEventListener("click", () => {
        pressKey();
      });

      // 3. Periodic Automatic Animation
      setInterval(() => {
        pressKey();
      }, CONFIG.autoPressInterval);
    </script>
  </body>
</html>
